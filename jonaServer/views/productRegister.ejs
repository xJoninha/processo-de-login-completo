<%- include('partials/head') %>
<%- include('partials/header') %>

<form action="/cadastrarProduto" method="POST" enctype="multipart/form-data">
    <!-- <div> -->
        <div class="form-campos">
            <h1>Registro de Produto</h1>

            <select name="tipoVinho" id="tipoVinho">
                <option value="" selected disabled>Selecione o tipo de Vinho</option>
                <option value="Tinto">Tinto</option>
                <option value="Branco">Branco</option>
                <option value="Rosé">Rosé</option>
                <option value="Espumante">Espumante</option>
            </select>

            <label for="imagem">Imagem do Produto</label>
            <input type="file" name="imageProduto" id="imagem" accept="image/jpg, image/png">

            <label for="nome">Nome do Produto</label>
            <input type="text" name="nomeProduto" id="nome">

            <label for="valor">Preço do produto</label>
            <input type="text" name="precoProduto" id="valor" maxlength="6" onkeyup="formatarMoeda()">
            
            <div class="btn">
                <button>ADICIONAR</button>
                <button type="reset">Limpar</button>
            </div>
        </div>
    <!-- </div> -->
    <script>
        function formatarMoeda() {
            var elemento = document.getElementById('valor');
            var valor = elemento.value;
    
            valor = valor + '';
            valor = parseInt(valor.replace(/[\D]+/g, ''));
            valor = valor + '';
            valor = valor.replace(/([0-9]{2})$/g, ",$1");
    
            if (valor.length > 6) {
                valor = valor.replace(/([0-9]{3}),([0-9]{2}$)/g, ".$1,$2");
            }
    
            elemento.value = valor;
            if(valor == 'NaN') elemento.value = '';
        }
    </script>
</form>